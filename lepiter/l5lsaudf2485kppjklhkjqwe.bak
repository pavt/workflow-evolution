{
	"__schema" : "4.1",
	"__type" : "page",
	"children" : {
		"__type" : "snippets",
		"items" : [
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:52:50.102912+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:52:58.46925+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "AUdEXDWrDQCOsvk/CR/tCQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "Demo of yielding processes."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:53:15.109985+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:53:58.296059+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "m1/uXTWrDQCOtFLZCR/tCQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "We have a bunch of tasks (collection of blocks) each of which tries to be nice by yielding if its time budget has expired."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:53:59.592186+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:54:44.082319+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "YoqSYDWrDQCOtTKrCR/tCQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "We fork all of these tasks, in processes that add their output in a safe way to a collection value holder so we can see the results as they appear."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:57:49.849187+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:57:49.849187+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "gO5TbjWrDQCOvqd5CR/tCQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : ""
			},
			{
				"__type" : "pharoSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:53:00.077432+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T09:56:03.467661+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "k10OXTWrDQCOs9ZQCR/tCQ=="
				},
				"code" : "tasks := (1 to: 20)\r\t\tcollect: [ :max | \r\t\t\t[ | total budget lastTime |\r\t\t\tbudget := 1 milliseconds.\r\t\t\tlastTime := Time now asDuration.\r\t\t\ttotal := 0.\r\t\t\t1\r\t\t\t\tto: max\r\t\t\t\tdo: [ :n | \r\t\t\t\t\t| delay |\r\t\t\t\t\t\"be nice within each iteration\"\r\t\t\t\t\tTime now asDuration - lastTime > budget\r\t\t\t\t\t\tifTrue: [ Processor yield.\r\t\t\t\t\t\t\tlastTime := Time now asDuration ].\t\"perform a potentially slow operation\"\r\t\t\t\t\tdelay := (20 * n) atRandom.\r\t\t\t\t\ttotal := total + delay.\r\t\t\t\t\t(Delay forMilliseconds: delay) wait ].\r\t\t\ttotal ] ].\rresult := OrderedCollection new asValueHolder.\rmutex := Semaphore forMutualExclusion.\rprocesses := OrderedCollection new.\rtasks\r\tdo: [ :task | \r\t\tprocesses\r\t\t\tadd: [ | value |\r\t\t\t\tvalue := task value.\r\t\t\t\tmutex critical: [ result addLast: value ] ] fork ].\rresult"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:58:23.507565+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:58:33.966016+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "R+ZHcDWrDQCOwMj1CR/tCQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "We can terminate the processes if needed."
			},
			{
				"__type" : "pharoSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:58:02.836705+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2022-12-02T08:58:13.088197+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "+xoabzWrDQCOvynuCR/tCQ=="
				},
				"code" : "processes do: #terminate "
			}
		]
	},
	"createEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"createTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2022-12-02T08:52:46.804847+01:00"
		}
	},
	"editEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"editTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2022-12-02T08:53:10.055554+01:00"
		}
	},
	"pageType" : {
		"__type" : "namedPage",
		"title" : "Yielding processes"
	},
	"uid" : {
		"__type" : "uuid",
		"uuid" : "eed6435c-35ab-0d00-8eb1-26a4091fed09"
	}
}